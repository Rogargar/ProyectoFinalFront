<app-navBar>
</app-navBar>
<div *ngIf="user">
    <div class="fondo">
        <h1 class="card-title">Hola {{user.name}}</h1>
        <p>¿Que te gustaría comer hoy?</p>
        <form *ngIf="recipes" class="custom-form" method="post">
            <div class="form-group">
                <input #receta type="text" placeholder="Buscar Receta ..." (keyup)="findRecipe(receta.value)" />
            </div>
        </form>
        <!--<form class="example-form" *ngIf="recipes">
            <mat-form-field class="example-full-width">
                <input type="text" placeholder="Pick one" aria-label="Number" matInput [formControl]="myControl" [matAutocomplete]="auto">
                <mat-autocomplete #auto="matAutocomplete">
                    <mat-option *ngFor="let option of recipes | async" [value]="option.name">
                        {{option.name}}
                    </mat-option>
                </mat-autocomplete>
            </mat-form-field>
        </form>-->
    </div>
</div>
<div class="container-fluid mt-3" *ngIf="lastRecipes">
    <h2 class="text-center">Ultimas recetas</h2>
    <div class="row">
        <div class="card card-recipe" *ngFor="let recipe of lastRecipes" (click)="findRecipeS(recipe.id)">
            <img class="card-img-top" src="api/recipes/uploads/img/{{recipe.img}}" alt="Card image cap">
            <div class="card-body text-center">
                <h3 class="card-title">{{recipe.name}}</h3>
            </div>
        </div>
    </div>
</div>
<div class="container-fluid mt-3" *ngIf="savedRecipe">
    <h2 class="text-center" *ngIf="savedRecipe['length']!==0">Recetas favoritas</h2>
    <div class="row">
        <div class="card card-recipe" *ngFor="let savedR of savedRecipe | paginate:{itemsPerPage:4, currentPage: 1}" (click)="findRecipeS(savedR.recipes.id)">
            <img class="card-img-top" src="api/recipes/uploads/img/{{savedR.recipes.img}}" alt="Card image cap">
            <div class="card-body text-center">
                <h3 class="card-title">{{savedR.recipes.name}}</h3>
            </div>
        </div>
    </div>
</div>
<a *ngIf="user && user.roles[0].name==='ROLE_CREATOR'" class="btn-flotante" (click)="addRecipe()"><img src="assets/icons/mas.png" class="icono">Añadir nueva receta</a>

<div class="card text-center " *ngIf="labels">
    <div class="card-body ">
        <h2 class="text-center">Explorar todas las categorías de recetas</h2>
        <button *ngFor="let label of labels" (click)="getLabel(label.id)" class="btn btn-info ml-3 mr-3 mt- mb-3 label btn-formato">{{label.name}}</button>
    </div>
</div>
